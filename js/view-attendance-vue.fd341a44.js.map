{"version":3,"sources":["webpack:///./src/components/dashboard/attendance.vue?235f","webpack:///src/components/dashboard/attendance.vue","webpack:///./src/components/dashboard/attendance.vue?394b","webpack:///./src/components/dashboard/attendance.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","style","refresh","on","$event","getData","attrs","nativeOn","setTime","clearTime","model","value","callback","$$v","tempSearch","expression","dialog","openCamera","usersList","perPage","currentPage","loadData","defaultSortDirection","scopedSlots","_u","key","fn","props","_s","index","$apiUrl","row","npm","name","created_at","ref","_g","preventDefault","editDialog","setEditData","deleteDialog","deleteId","id","slot","uploading","img","deviceId","onCameras","onCameraChange","directives","rawName","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","camera","multiple","_l","device","domProps","label","closeCamera","sendData","snackbar","color","$set","text","disp","staticRenderFns","headers","Authorization","localStorage","getItem","components","WebCam","mounted","data","FormData","percentCompleted","isActiveCamera","selectedFilter","users","typingTimer","search","isPaginated","isPaginationSimple","devices","watch","$route","first","computed","methods","preparedata","$refs","webcam","capture","append","configData","uri","$modelUrl","vm","$http","post","response","msg","error","onCapture","start","clearTimeout","setTimeout","setSearch","get","config","then","component"],"mappings":"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","file":"js/view-attendance-vue.fd341a44.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contentlist\"},[_c('div',{staticClass:\"flex-container\"},[_c('div',{staticClass:\"columns m-t-10\"},[_c('div',{staticClass:\"column\",staticStyle:{\"display\":\"flex\"}},[_c('h1',{staticClass:\"title\",staticStyle:{\"margin-bottom\":\"0\",\"margin-right\":\"10px\"}},[_vm._v(\"Presensi Pengenalan Pola\")]),_c('v-icon',{style:(_vm.refresh ?'transform:rotate(360deg)':'transform: none'),on:{\"click\":function($event){_vm.getData(); _vm.refresh =true}}},[_vm._v(\"refresh\")])],1)]),_c('v-flex',{staticStyle:{\"margin-top\":\"30px\"},attrs:{\"xs12\":\"\"}},[_c('v-card',{staticStyle:{\"border-radius\":\"2px\"},attrs:{\"text\":\"\"}},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('b-field',[_c('b-input',{attrs:{\"placeholder\":\"Search...\",\"type\":\"search\",\"icon\":\"magnify\"},nativeOn:{\"keyup\":function($event){return _vm.setTime()},\"keydown\":function($event){return _vm.clearTime()}},model:{value:(_vm.tempSearch),callback:function ($$v) {_vm.tempSearch=$$v},expression:\"tempSearch\"}})],1)],1),_c('v-flex',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"right\"},attrs:{\"xs12\":\"\",\"sm6\":\"\"}},[_c('b-button',{attrs:{\"type\":\"is-info\"},on:{\"click\":function($event){_vm.dialog = true;_vm.openCamera()}}},[_vm._v(\"Verifikasi Mahasiswa\")])],1)],1)],1)],1)],1),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('b-table',{attrs:{\"data\":_vm.usersList,\"paginated\":true,\"per-page\":_vm.perPage,\"current-page\":_vm.currentPage,\"loading\":_vm.loadData,\"pagination-simple\":true,\"narrowed\":true,\"mobile-cards\":true,\"striped\":true,\"hoverable\":true,\"default-sort-direction\":_vm.defaultSortDirection,\"default-sort\":\"created_at\"},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('b-table-column',{attrs:{\"label\":\"No\",\"sortable\":\"\"}},[_vm._v(_vm._s(props.index + 1))]),_c('b-table-column',{attrs:{\"label\":\"Foto\",\"sortable\":\"\"}},[_c('v-img',{staticStyle:{\"width\":\"100px\",\"height\":\"auto\"},attrs:{\"src\":_vm.$apiUrl+'/model/realpict/'+props.row.npm+'.jpg'}})],1),_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":\"Nama\",\"sortable\":\"\"}},[_vm._v(_vm._s(props.row.name))]),_c('b-table-column',{attrs:{\"field\":\"npm\",\"label\":\"NPM\",\"sortable\":\"\"}},[_vm._v(_vm._s(props.row.npm))]),_c('b-table-column',{attrs:{\"field\":\"created_at\",\"label\":\"Mendaftar Pada\",\"sortable\":\"\"}},[_vm._v(_vm._s(props.row.created_at))]),_c('b-table-column',{attrs:{\"label\":\"\"}},[_c('v-menu',{attrs:{\"transition\":\"slide-x-transition\",\"offset-x\":\"\",\"left\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"more_vert\")])],1)]}}],null,true)},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){$event.preventDefault();_vm.editDialog = true; _vm.setEditData(props.row)}}},[_c('v-list-item-title',[_vm._v(\"Edit\")])],1),_c('v-list-item',{on:{\"click\":function($event){$event.preventDefault();_vm.deleteDialog = true; _vm.deleteId = props.row.id}}},[_c('v-list-item-title',[_vm._v(\"Hapus\")])],1)],1)],1)],1)]}}])},[_c('template',{slot:\"empty\"},[_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"content has-text-grey has-text-centered\"},[_c('p',[_c('b-icon',{attrs:{\"icon\":\"emoticon-sad\",\"size\":\"is-large\"}})],1),_c('p',[_vm._v(\"Nothing here.\")])])])])],2)],1)],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(\"Verifikasi Mahasiswa\")])]),_c('v-card-text',[_c('v-container',[_c('div',{staticClass:\"cameraForm\",staticStyle:{\"min-height\":\"380px\"}},[_c('div',{style:(!_vm.uploading ? 'display: none' : '')},[_c('img',{attrs:{\"src\":_vm.img,\"alt\":\"\"}})]),_c('web-cam',{ref:\"webcam\",style:(_vm.uploading ? 'display: none' : ''),attrs:{\"device-id\":_vm.deviceId,\"width\":\"100%\"},on:{\"cameras\":_vm.onCameras,\"camera-change\":_vm.onCameraChange}}),_c('div',{staticClass:\"deviceoption\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.camera),expression:\"camera\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.camera=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',[_vm._v(\"-- Select Device --\")]),_vm._l((_vm.devices),function(device){return _c('option',{key:device.deviceId,domProps:{\"value\":device.deviceId}},[_vm._v(_vm._s(device.label))])})],2)])],1)])],1),_c('v-card-actions',[_c('v-spacer'),_c('b-button',{staticStyle:{\"margin-left\":\"10px\",\"width\":\"100%\",\"max-width\":\"120px\"},attrs:{\"type\":\"is-danger\"},on:{\"click\":function($event){_vm.dialog = false; _vm.closeCamera()}}},[_vm._v(\"Batal\")]),_c('b-button',{staticStyle:{\"margin-left\":\"10px\",\"width\":\"100%\",\"max-width\":\"120px\"},attrs:{\"type\":\"is-success\"},on:{\"click\":function($event){return _vm.sendData();}}},[(_vm.uploading)?_c('img',{staticStyle:{\"width\":\"20px\"},attrs:{\"src\":require('@/assets/loading/bars.svg'),\"alt\":\"\"}}):_c('span',[_vm._v(\"Verifikasi\")])])],1)],1)],1)],1),_c('v-snackbar',{attrs:{\"color\":_vm.snackbar.color,\"multi-line\":true,\"timeout\":3000},model:{value:(_vm.snackbar.disp),callback:function ($$v) {_vm.$set(_vm.snackbar, \"disp\", $$v)},expression:\"snackbar.disp\"}},[_vm._v(\" \"+_vm._s(_vm.snackbar.text)+\" \"),_c('v-btn',{attrs:{\"dark\":\"\",\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar.disp = false}}},[_vm._v(\"Close\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template id=\"admin-list\">\r\n  <div class=\"contentlist\">\r\n    <div class=\"flex-container\">\r\n      <div class=\"columns m-t-10\">\r\n        <div class=\"column\" style=\"display:flex\">\r\n          <h1 class=\"title\" style=\"margin-bottom: 0; margin-right: 10px;\">Presensi Pengenalan Pola</h1>\r\n          <v-icon\r\n            @click=\"getData(); refresh =true\"\r\n            :style=\"refresh ?'transform:rotate(360deg)':'transform: none'\"\r\n          >refresh</v-icon>\r\n        </div>\r\n      </div>\r\n      <v-flex xs12 style=\"margin-top:30px\">\r\n        <v-card style=\"border-radius:2px\" text>\r\n          <v-container grid-list-md>\r\n            <v-layout row wrap>\r\n              <v-flex xs12 sm6>\r\n                  <b-field>\r\n                    <b-input\r\n                      placeholder=\"Search...\"\r\n                      type=\"search\"\r\n                      icon=\"magnify\"\r\n                      v-model=\"tempSearch\"\r\n                      @keyup.native=\"setTime()\"\r\n                      @keydown.native=\"clearTime()\"\r\n                    ></b-input>\r\n                  </b-field>\r\n              </v-flex>\r\n              <v-flex xs12 sm6 style=\"display:flex; justify-content: right\">\r\n                <b-button type=\"is-info\" @click=\"dialog = true;openCamera()\">Verifikasi Mahasiswa</b-button>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-container>\r\n        </v-card>\r\n      </v-flex>\r\n      <div style=\"margin-top:20px\">\r\n        <b-table\r\n          :data=\"usersList\"\r\n          :paginated=\"true\"\r\n          :per-page=\"perPage\"\r\n          :current-page.sync=\"currentPage\"\r\n          :loading=\"loadData\"\r\n          :pagination-simple=\"true\"\r\n          :narrowed=\"true\"\r\n          :mobile-cards=\"true\"\r\n          :striped=\"true\"\r\n          :hoverable=\"true\"\r\n          :default-sort-direction=\"defaultSortDirection\"\r\n          default-sort=\"created_at\"\r\n        >\r\n          <template slot-scope=\"props\">\r\n            <b-table-column label=\"No\" sortable>{{ props.index + 1 }}</b-table-column>\r\n            <b-table-column label=\"Foto\" sortable>\r\n              <v-img :src=\"$apiUrl+'/model/realpict/'+props.row.npm+'.jpg'\" style=\"width: 100px; height: auto\"></v-img>\r\n            </b-table-column>\r\n            <b-table-column field=\"name\" label=\"Nama\" sortable>{{ props.row.name }}</b-table-column>\r\n            <b-table-column field=\"npm\" label=\"NPM\" sortable>{{ props.row.npm }}</b-table-column>\r\n            <b-table-column field=\"created_at\" label=\"Mendaftar Pada\" sortable>{{ props.row.created_at }}</b-table-column>\r\n            <b-table-column label>\r\n              <v-menu transition=\"slide-x-transition\" offset-x left>\r\n                <template v-slot:activator=\"{ on }\">\r\n                  <v-btn icon v-on=\"on\">\r\n                    <v-icon>more_vert</v-icon>\r\n                  </v-btn>\r\n                </template>\r\n                <v-list>\r\n                  <v-list-item @click.prevent=\"editDialog = true; setEditData(props.row)\">\r\n                    <v-list-item-title>Edit</v-list-item-title>\r\n                  </v-list-item>\r\n                  <v-list-item @click.prevent=\"deleteDialog = true; deleteId = props.row.id\">\r\n                    <v-list-item-title>Hapus</v-list-item-title>\r\n                  </v-list-item>\r\n                </v-list>\r\n              </v-menu>\r\n            </b-table-column>\r\n          </template>\r\n          <template slot=\"empty\">\r\n            <section class=\"section\">\r\n              <div class=\"content has-text-grey has-text-centered\">\r\n                <p>\r\n                  <b-icon icon=\"emoticon-sad\" size=\"is-large\"></b-icon>\r\n                </p>\r\n                <p>Nothing here.</p>\r\n              </div>\r\n            </section>\r\n          </template>\r\n        </b-table>\r\n      </div>\r\n    </div>\r\n    <v-row justify=\"center\">\r\n    <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\r\n      <v-card>\r\n        <v-card-title>\r\n          <span class=\"headline\">Verifikasi Mahasiswa</span>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <v-container>\r\n            <div class=\"cameraForm\"  style=\"min-height: 380px\" >\r\n              <div :style=\"!uploading ? 'display: none' : ''\">\r\n                <img :src=\"img\" alt=\"\">\r\n              </div>\r\n              <web-cam \r\n              ref=\"webcam\"\r\n              :device-id=\"deviceId\"\r\n              width=\"100%\"\r\n              @cameras=\"onCameras\"\r\n              @camera-change=\"onCameraChange\" :style=\"uploading ? 'display: none' : ''\"></web-cam>\r\n              <div class=\"deviceoption\">\r\n                <select v-model=\"camera\">\r\n                            <option>-- Select Device --</option>\r\n                            <option\r\n                                v-for=\"device in devices\"\r\n                                :key=\"device.deviceId\"\r\n                                :value=\"device.deviceId\"\r\n                            >{{ device.label }}</option>\r\n                        </select>\r\n              </div>\r\n            </div>\r\n          </v-container>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <b-button type=\"is-danger\" style=\"margin-left: 10px; width: 100%; max-width: 120px;\" @click=\"dialog = false; closeCamera()\">Batal</b-button>\r\n          <b-button type=\"is-success\" style=\"margin-left: 10px; width: 100%; max-width: 120px;\" @click=\"sendData();\">\r\n            <img :src=\"require('@/assets/loading/bars.svg')\" alt=\"\" style=\"width: 20px;\" v-if=\"uploading\">\r\n            <span v-else>Verifikasi</span>\r\n          </b-button>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-row>\r\n    <v-snackbar v-model=\"snackbar.disp\" :color=\"snackbar.color\" :multi-line=\"true\" :timeout=\"3000\">\r\n      {{ snackbar.text }}\r\n      <v-btn dark text @click=\"snackbar.disp = false\">Close</v-btn>\r\n    </v-snackbar>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { WebCam } from \"vue-web-cam\";\r\n\r\nconst config = {\r\n  headers: {\r\n    Authorization: \"Bearer \" + localStorage.getItem(\"token\")\r\n  }\r\n};\r\nexport default {\r\n  components: {\r\n    WebCam\r\n  },\r\n  mounted() {\r\n    this.getData();\r\n  },\r\n  data() {\r\n    return {\r\n      data: new FormData(),\r\n      percentCompleted: 0,\r\n      uploading: false,\r\n      isActiveCamera: true,\r\n      dialog: false,\r\n      selectedFilter: -1,\r\n      snackbar: {\r\n        color: \"#d32f2f\",\r\n        text: \"msg\",\r\n        disp: false\r\n      },\r\n      users: [],\r\n      refresh: false,\r\n      typingTimer: null,\r\n      tempSearch: \"\",\r\n      search: \"\",\r\n      loadData: true,\r\n      defaultSortDirection: \"desc\",\r\n      currentPage: 1,\r\n      perPage: 10,\r\n      isPaginated: true,\r\n      isPaginationSimple: true,\r\n      img: null,\r\n      camera: null,\r\n      deviceId: null,\r\n      devices: []\r\n    };\r\n  },\r\n  watch:{\r\n    $route(to,from){\r\n      if(to.params.view != from.params.view){\r\n        this.getData()\r\n      }\r\n    },\r\n    camera: function(id) {\r\n        this.deviceId = id;\r\n    },\r\n    devices: function() {\r\n      // Once we have a list select the first one\r\n      const [first, ...tail] = this.devices; // eslint-disable-line no-unused-vars\r\n      if (first) {\r\n          this.camera = first.deviceId;\r\n          this.deviceId = first.deviceId;\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    device: function() {\r\n        return this.devices.find(n => n.deviceId === this.deviceId);\r\n    },\r\n    usersList() {\r\n      return this.users.filter(row => {\r\n        if (this.search != \"\")\r\n          return row.name.toLowerCase().includes(this.search.toLowerCase());\r\n        return true;\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    preparedata(){\r\n      this.data = new FormData()\r\n      this.img = this.$refs.webcam.capture()\r\n      this.data.append('picture',this.img)\r\n    },\r\n    sendData(){\r\n      this.preparedata()\r\n      this.percentCompleted =0;\r\n      this.uploading = true;\r\n      var configData = {\r\n          headers: { 'Content-Type': 'multipart/form-data',\r\n          Authorization: 'Bearer ' + localStorage.getItem('token') } ,\r\n          onUploadProgress: function(progressEvent) {\r\n              this.percentCompleted = Math.round( (progressEvent.loaded * 100) / progressEvent.total );\r\n              this.$forceUpdate();\r\n          }.bind(this)\r\n      };\r\n      var uri = this.$modelUrl + '/verify'\r\n      var vm = this\r\n      this.$http.post(uri, this.data, configData)\r\n      .then(function (response) {\r\n        vm.snackbar.disp = true;\r\n        vm.snackbar.text = response.data.msg + '('+response.data.score+')'\r\n        vm.snackbar.color = '#32bdca';\r\n        vm.uploading = false\r\n      }.bind(this))\r\n      .catch(function (error) {\r\n        vm.percentCompleted = 0\r\n        vm.snackbar.disp = !!error;\r\n        vm.snackbar.text = 'Coba lagi'\r\n        vm.snackbar.color = '#d32f2f';\r\n        vm.uploading = false\r\n      });\r\n    },\r\n    onCapture() {\r\n        this.img = this.$refs.webcam.capture();\r\n    },\r\n    onCameras(cameras) {\r\n        this.devices = cameras;\r\n    },\r\n    onCameraChange(deviceId) {\r\n        this.deviceId = deviceId;\r\n        this.camera = deviceId;\r\n    },\r\n    closeCamera(){\r\n        if(this.isActiveCamera){\r\n          this.$refs.webcam.stop();\r\n          this.isActiveCamera = false\r\n        }\r\n    },\r\n    openCamera(){\r\n      if(!this.isActiveCamera){\r\n        this.$refs.webcam.start();\r\n        this.isActiveCamera = true\r\n      }\r\n    },\r\n    setTime() {\r\n      this.loadData = true;\r\n      clearTimeout(this.typingTimer);\r\n      this.typingTimer = setTimeout(this.setSearch, 2000);\r\n    },\r\n    clearTime() {\r\n      clearTimeout(this.typingTimer);\r\n    },\r\n    setSearch() {\r\n      this.loadData = false;\r\n      this.search = this.tempSearch;\r\n    },\r\n    getData() {\r\n      this.loadData = true;\r\n      var uri\r\n      uri = this.$apiUrl + \"/api/attendance\";\r\n      this.$http.get(uri, config).then(response => {\r\n        this.users = response.data;\r\n        this.loadData = false;\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./attendance.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./attendance.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./attendance.vue?vue&type=template&id=5c433843&\"\nimport script from \"./attendance.vue?vue&type=script&lang=js&\"\nexport * from \"./attendance.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}